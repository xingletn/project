<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.bdqn.mapper.ProductMapper">
    <select id="getSuitList" resultType="cn.bdqn.pojo.Product">
       SELECT * FROM product p ,product_picture pp
        WHERE p.productPictureID=pp.Product_PictureID
        AND `productClass_id`=3
    </select>

    <select id="getWatchList" resultType="cn.bdqn.pojo.Product">
       SELECT * FROM product p ,product_picture pp
        WHERE p.productPictureID=pp.Product_PictureID
        AND `productClass_id`=1
    </select>

    <select id="getJewelryList" resultType="cn.bdqn.pojo.Product">
        SELECT * FROM product p ,product_picture pp
        WHERE p.productPictureID=pp.Product_PictureID
        AND `productClass_id`=2
    </select>


    <resultMap id="getgoods" type="cn.bdqn.pojo.Product">
      <id column="productId" property="productId"></id>
        <association property="productPicture" javaType="cn.bdqn.pojo.ProductPicture">
         <id column="Product_PictureID" property="productPictureId"></id>
            <result column="Product_Picture_Path01" property="productPicturePath01"/>
            <result column="Product_Picture_Path02" property="productPicturePath02"/>
            <result column="Product_Picture_Path03" property="productPicturePath03"/>
        </association>
    </resultMap>

    <select id="getGoodsList" resultMap="getgoods">
       SELECT * FROM product p ,product_picture pp
        WHERE p.productPictureID=pp.Product_PictureID
        AND Product_PictureID=#{id}
    </select>


<!--    <select id="getOrderList" resultType="cn.bdqn.pojo.Order">

        &lt;!&ndash; SELECT o.*,oi.* FROM `order` o,`order_item` oi
           WHERE o.`Order_ID`=#{id} AND o.`Order_ID`=oi.`Order_id`&ndash;&gt;

        select * from order

    </select>-->
    <resultMap id="OrderList" type="Order">
        <id property="orderId" column="Order_ID"></id>
        <result property="orderNumber" column="Order_number"></result>
        <result property="orderPey" column="Order_pey"></result>
        <result property="orderUserName" column="Order_UserName"></result>
        <result property="orderPhone" column="Order_Phone"></result>
        <result property="orderUserAddress" column="Order_User_address"></result>
        <result property="orderPrice" column="Order_price"></result>
        <result property="orderState" column="Order_state"></result>

    </resultMap>


    <select id="getOrderList" resultMap="OrderList">

      SELECT o.*,oi.* FROM `order` o,`order_item` oi
        WHERE o.`Order_ID`=#{id} AND o.`Order_ID`=oi.`Order_id`
      <!-- select * from order-->

    </select>
</mapper>
